# dcl

double check lock 到底需不需要加volatile?
为什么要双重？
为什么要有第一层if
因为if比加锁要快的多
if(instance == null){
    synchronized(Mgr06.class){
        if(instance == null){
            instance = new Mgr06();
        }
    }
}
return instance


new 到一半的时候，就是已经初始化了，instance已经不等于空了
这时候可能赋值就赋给了一个初始化的值0

不上锁的外面一层，可以访问到上锁代码里面的中间态，也就是new Mgr06一半的时候，初始值为0
但instance已经不是null了，直接返回了instance




用屏障禁止重排