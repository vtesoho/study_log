# 2022-05-24

你有什么可豪橫的？还抢过简历走了。这波操作我给你满分。

你觉得你的理论是对的，但问为什么你又回答不清楚，一直扯根据业务需要来，1000W分库分表，根据业务经验得来的1000W，为什么是1000W就不知道了，为什么不能是2000W？

如果是用myisam在10亿条数据内根据索引查找，速度是一样快。为什么要费事分库分表？

不就是要问你对于B+树索引的理解么，跟业务有什么关联？

关于幻读，你说是事务A select的时候，事务B更新了，这时候select的行数不一样，叫幻读，纠正了一下这问题你就抢过你的简历走了。

读不一致的问题就是不可重复读，在可重复读级别下，当前读的语句与快照读的语句操作行数不一样，叫幻读。

就在默认隔离级别下，select你不加锁的情况下，事务A在怎么select的结果是一样的。

事务Aselect的时候，如果不加任何锁，会创建一个readview，readview会根据一个规则来快照读取数据，是用于解决不可重复读的问题，其它任何事务做任何修改的时候，都不会影响到事务A的select。

如果此时事务A做update操作，则会修改其它事务所做的修改，因为update是当前读。

如果其它事务有操作到事务A update的这些行，事务A则会等待其它事务提交。update默认会加锁。

事务间的写写肯定会加锁，事务间的读写就会出现脏读、不可重复读、幻读的问题。

搞清楚事务的本质比你跟我在这耍性格有用的多，你能通过你的理解说服我也算你有能耐了。

理解有分歧很正常，这就是看每个人怎么做了。技术还是要精进的。共勉。祝各位找到好工作。
