# 高并发下的相关问题

穿透、击穿、雪崩、一致性

数据层面上，秒杀--搞活动，超卖问题

高可用问题。


## 穿透
某个不存在的id或参数被请求了

可以用布隆过虑器解决

## 击穿
某个id在redis中可能过期了，请求直接到mysql上面去了。

在请求mysql的时候加上互斥锁。

加入memcache加一级缓存 

## 雪崩
大型的击穿失效，大量的热点key 集中失效过期

3种处理方案

设置缓存永不过期，热点数据过期时间随机。

在雪崩中怎么处理。要避免mysql被打死

限流，降级


## 超卖

乐观锁 qps 1000以下可以使用

分布式锁  具备（互斥性、不能发生死锁、自己的锁，只能自己解开）

消息队列  redis mq