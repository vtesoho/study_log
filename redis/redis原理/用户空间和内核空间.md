# 用户空间和内核空间

任何linux发行版，其系统内核都是linux。我们的应用都需要通过linux内核与硬件交互。

为了避免用户应用导致冲突甚至内核崩溃，用户应用与内核应用是分享的：
1. 进程的寻址空间会划分为两部分：内核空间、用户空间
2. 用户空间只执行受限的命令(ring3)，而且不能直接调用系统资源，必须通过内核提供的接口来访问
3. 内核空间可以执行特殊命令(ring0)，调用一切系统资源

一般一个4G内存的电脑，空间是0x00000000-0xffffffff,在高位置的0xC000000000-0xffffffff 1G空间划分为内核空间。0x00000000-0xbfffffff为用户空间

linux系统为了提高io效率，会在用户密集恐惧症是和内核空间都加入缓冲区：
1. 写数据时，要把用户缓存数据拷贝到内核缓冲区，然后写入设备
2. 读数据时，要从设备读取数据到内核缓冲区，然后拷贝到用户缓冲区

