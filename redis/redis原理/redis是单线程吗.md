# redis是单线程吗


redis到底是单线程还是多线程？

1. 如果是仅聊redis的核心业务部分（命令处理），是单线程
2. 如果是整个redis，那么就是多线程

在redis版本迭代过程中，在两个重要的时间节点上引入了多线程支持。
1. 在redis v4.0 引入多线程异步处理一些耗时较长的任务，例如异步删除命令unlink
2. redis v6.0 在核心网络模型中引入多线程，进一步提高对于多核cpu的利用率



为什么redis要选单线程

1. 抛开持久化不谈，redis是纯内存操作，执行速度非常快，它的性能瓶颈是网络延迟而不是执行速度，因此多线程并不会带来巨大的性能提升
2. 多线程会导致过多的上下文切换，带来不必要的开销
3. 引入多线程会面临安全问题，必然要引入线程锁这样的安全手段，实现复杂度增高，而且性能也会大打折扣

