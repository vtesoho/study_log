# 依赖倒置原则

dependence inversion principle

开放封闭原则是面向对象设计的终极目标，而依赖倒置原则是实现开放封闭原则的基础

如果说开放封闭原则是设计大楼的蓝图，那么依赖倒置原则就是大楼的钢铁架构 

1. 高层模块不应该依赖于低层模块，两个都应该依赖于抽象
2. 抽象不应该依赖细节，细节 应该依赖于抽象
3. 依赖倒置原则的本质就是通过抽象（接口或抽象类）使各个类或模块的实现彼此独立，互不影响，实现模块间的松耦合 



1. 一个优秀的面向对象程序设计，核心的原则之一就是将变化隔离，封装，使得变化部分发生变化时，其他部分不受影响
2. 为了实现这个目的，需要使用面面接口编程，使用后，客户类，不再直接依赖服务类，而是依赖一个抽象的接口，这样，客户类就不能在内部直接实例化服务类。
3. 但是客户类在运行的过程中，又需要具体的服务类来提供服务，因为接口是不能实例化的，就产生了一个矛盾：客户类不允许实例化服务类，但客户类又需要服务类的服务。
4. 为了解决这个矛盾，设计了一种解决方案，即：客户类定义一个注入点，用于服务类的注入，而客户类的客户类负责根据情况，实例化服务类，注入到客户类中，从而解决这个矛盾